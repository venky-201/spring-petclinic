pipeline{
    agent any ////perticuler agent{ label <label name>}
    options {
        timeout(time: 1, unit: 'HOURS') 
    }
    triggers {
        pollSCM(' * * * * * ')
    }
    stages {
        stage ('scm') {
            git url: https://github.com/spring-projects/spring-petclinic.git
              branch: 'main' 
        }
        stage ('build'){
            sh 'cd spring-petclinic'
            sh 'mvn package'
        }
        post {
           success {
             archiveArtifacts artifacts: 'target/*.jar',
             allowEmptyArchive: true,
                   fingerprint: true,
             onlyIfSuccessful: true
           } 

        }
    }
}